<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2017-04-29 Sat 04:11 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Geolocation layer</title>
<meta name="generator" content="Org mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css"
                 href="http://www.pirilampo.org/styles/readtheorg/css/htmlize.css"/>
          <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
          <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
          <script type="text/javascript"
                  src="http://www.pirilampo.org/styles/readtheorg/js/readtheorg.js"></script>
          <script>
           (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
               (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new
               Date();a=s.createElement(o),
               m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
               })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

           ga('create', 'UA-28326243-2', 'auto'); ga('send', 'pageview');
          </script>
<link rel="stylesheet" type="text/css" href="../../../css/readtheorg.css" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<div id="toggle-sidebar"><a href="#table-of-contents"><h2>Table of Contents</h2></a></div>
<h1 class="title">Geolocation layer</h1>
<div id="table-of-contents">
<h2>Table of Contents<a href="#">Close</a></h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#description">1. Description</a>
<ul>
<li><a href="#supported-packages-in-this-layer">1.1. Supported packages in this layer</a></li>
</ul>
</li>
<li><a href="#install">2. Install</a></li>
<li><a href="#configuration">3. Configuration</a>
<ul>
<li><a href="#location">3.1. Location</a></li>
<li><a href="#theme-changer">3.2. theme-changer</a></li>
<li><a href="#sunshine-weather-forecast">3.3. sunshine (weather forecast)</a></li>
<li><a href="#osx-location">3.4. osx-location</a></li>
</ul>
</li>
<li><a href="#key-bindings">4. Key Bindings</a>
<ul>
<li><a href="#weather">4.1. Weather</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-org5b5a94f" class="outline-2">
<h2 id="description"><a id="org5b5a94f"></a><span class="section-number-2">1</span> Description</h2>
<div class="outline-text-2" id="text-description">
<p>
This layer offers few location sensitive adjustment to Emacs, such as
automatically switching between light (day) and dark (night) themes, weather
forecast and on OS X, also automatic tracking of location, using OS X's
CoreLocation services.
</p>
</div>

<div id="outline-container-org5dbf579" class="outline-3">
<h3 id="supported-packages-in-this-layer"><a id="org5dbf579"></a><span class="section-number-3">1.1</span> Supported packages in this layer</h3>
<div class="outline-text-3" id="text-supported-packages-in-this-layer">
<ul class="org-ul">
<li><a href="https://github.com/aaronbieber/sunshine.el/blob/master/sunshine.el">sunshine</a></li>
<li><a href="https://github.com/purcell/osx-location">osx-location</a></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org6a5bbbb" class="outline-2">
<h2 id="install"><a id="org6a5bbbb"></a><span class="section-number-2">2</span> Install</h2>
<div class="outline-text-2" id="text-install">
<p>
To use this configuration layer, add it to your <code>~/.spacemacs</code>. You will need to
add <code>geolocation</code> to the existing <code>dotspacemacs-configuration-layers</code> list in this
file.
</p>

<p>
All services are disable by default. To enable all, or some of them, add instead
something like this:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span>geolocation <span class="org-builtin">:variables</span>
             geolocation-enable-automatic-theme-changer t
             geolocation-enable-location-service t
             geolocation-enable-weather-forecast t<span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org85dfc01" class="outline-2">
<h2 id="configuration"><a id="org85dfc01"></a><span class="section-number-2">3</span> Configuration</h2>
<div class="outline-text-2" id="text-configuration">
</div>

<div id="outline-container-org16da6ba" class="outline-3">
<h3 id="location"><a id="org16da6ba"></a><span class="section-number-3">3.1</span> Location</h3>
<div class="outline-text-3" id="text-location">
<p>
Set location manually by setting the following variables to the
<code>dotspacemacs/user-config</code> function of your dotfile:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> calendar-location-name <span class="org-string">"Barcelona, Spain"</span>
      calendar-latitude <span class="org-highlight-numbers-number">41.23</span>
      calendar-longitude <span class="org-highlight-numbers-number">1.80</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>

<p>
On OS X, all of these variables get setup automatically if the <code>osx-location</code>
service was enabled (Wifi must be turned on to make it work). In this case, if
<code>calendar-location-name</code> was omitted, it'll be stringed-up <code>calendar-latitude</code>
and <code>calendar-longitude</code> i.e. "41.23, 1.80".
</p>
</div>
</div>

<div id="outline-container-org3b4209d" class="outline-3">
<h3 id="theme-changer"><a id="org3b4209d"></a><span class="section-number-3">3.2</span> theme-changer</h3>
<div class="outline-text-3" id="text-theme-changer">
<p>
This layer implement a simple "theme changer" which, when enabled, will switch
between first two themes the user has setup in <code>dotspacemacs-themes</code>. First
theme listed will be used as light variant, while the second as the the dark.
Other themes will be ignored by this layer, though they are still available for
cycling, etc.
</p>
</div>
</div>

<div id="outline-container-org914eb51" class="outline-3">
<h3 id="sunshine-weather-forecast"><a id="org914eb51"></a><span class="section-number-3">3.3</span> sunshine (weather forecast)</h3>
<div class="outline-text-3" id="text-sunshine-weather-forecast">
<p>
Sunshine display local weather forecast.
</p>

<p>
Setup <a href="https://home.openweathermap.org/users/sign_in">OpenWeatherMap</a> API key.
Set <code>sunshine-appid</code> to some hash string from the openweathermap
website. You need to sign up to the website to get a API key.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> sunshine-appid <span class="org-string">"your-apikey"</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>

<p>
Configure your location by setting the variable sunshine-location. You
can provide a string, like "New York, NY" or a ZIP code, like "90210".
This variable is available through the Customize facility.
  When specifying a ZIP code, you may receive results from a foreign
country. This is due to weird behavior from OpenWeatherMap. To resolve
this, append a comma and the country code after the ZIP code. Note the
lack of a space in the example below.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> sunshine-location <span class="org-string">"90210,USA"</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>

<p>
It will use the imperial unit system by default. To switch to metric, add
<code>sunshine-units 'metric</code> to the variables list for this layer, or add this.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> sunshine-units 'metric<span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>

<p>
Weather forecast icons are disabled by default, and can be toggled by pressing
`i' within this mode's main buffer.
</p>

<p>
To display weather forecast icons by default ("pretty mode"), add
<code>sunshine-show-icons t</code> to the variables list for this layer, or add this:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> sunshine-show-icons t<span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>


<div class="figure">
<p><img src="img/emacs-sunshine.jpg" alt="emacs-sunshine.jpg" />
</p>
</div>
</div>
</div>

<div id="outline-container-org8fab553" class="outline-3">
<h3 id="osx-location"><a id="org8fab553"></a><span class="section-number-3">3.4</span> osx-location</h3>
<div class="outline-text-3" id="text-osx-location">
<p>
OS X users can take adavantage of automatic geogrphical discovery using the OS'
CoreLocation system service, implemented as a long running background process. A
helper script will need to be given proper access first time this layer is
activated.
</p>


<div class="figure">
<p><img src="img/emacs-location-helper.jpg" alt="emacs-location-helper.jpg" />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-org61bc0db" class="outline-2">
<h2 id="key-bindings"><a id="org61bc0db"></a><span class="section-number-2">4</span> Key Bindings</h2>
<div class="outline-text-2" id="text-key-bindings">
</div>

<div id="outline-container-orgb49cb54" class="outline-3">
<h3 id="weather"><a id="orgb49cb54"></a><span class="section-number-3">4.1</span> Weather</h3>
<div class="outline-text-3" id="text-weather">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Evil</th>
<th scope="col" class="org-left">Holy</th>
<th scope="col" class="org-left">Command</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>SPC a w</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">Display pretty weather forecast</td>
</tr>

<tr>
<td class="org-left"><code>SPC a W</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">Display quick weather forecast in mini buffer</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Created: 2017-04-29 Sat 04:11</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
